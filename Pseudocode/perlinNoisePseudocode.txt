INITIALISE lattice[height][width]
FOR EACH lattice_point:
    vector = (random(-1, 1), random(-1, 1))
    lattice[lattice_point.index] = vector
ENDFOR

SUBROUTINE fade(point):
    RETURN (6*(point)^5 - 15*(point)^4 + 10*(point)^3)
ENDSUBROUTINE

INITIALISE noise_map[height*spacing][width*spacing]
FOR EACH noise_point IN noise_map:
    noise = 0
    FOR EACH surrounding_vector:
        difference_vector = noise_point - surrounding_vector.index
        contribution = dot_product(surrounding_vector.value, difference_vector)
        noise += contribution * fade(1 - difference_vector)
    ENDFOR
    noise_map[noise_point.index.y][noise_point.index.y] = noise
ENDFOR
